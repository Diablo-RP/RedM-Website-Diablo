{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Desktop/webmap/RedM-Website-Diablo/frontend/src/components/Navigation.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport Image from 'next/image';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Menu, X, Home, Calendar, Shield, Users, MessageSquare, LogIn, LogOut, User } from 'lucide-react';\r\n\r\ninterface User {\r\n  id: number;\r\n  email: string;\r\n  username: string;\r\n  role: string;\r\n}\r\n\r\ninterface ServerStatus {\r\n  server_name: string;\r\n  current_players: number;\r\n  max_players: number;\r\n  is_online: boolean;\r\n  last_updated?: string;\r\n}\r\n\r\nexport default function Navigation() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [showUserMenu, setShowUserMenu] = useState(false);\r\n  const [serverStatus, setServerStatus] = useState<ServerStatus>({\r\n    server_name: 'Wild West RP',\r\n    current_players: 0,\r\n    max_players: 32,\r\n    is_online: false\r\n  });\r\n\r\n  useEffect(() => {\r\n    // Check for stored user data\r\n    const storedUser = localStorage.getItem('user');\r\n    if (storedUser) {\r\n      setUser(JSON.parse(storedUser));\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchServerStatus = async () => {\r\n      try {\r\n        const response = await fetch('http://localhost:3001/api/server/status');\r\n        const data = await response.json();\r\n        setServerStatus(data);\r\n      } catch (error) {\r\n        console.error('Failed to fetch server status:', error);\r\n        // Keep default offline status\r\n      }\r\n    };\r\n\r\n    fetchServerStatus();\r\n    const interval = setInterval(fetchServerStatus, 60000); // Update every minute\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    setUser(null);\r\n    setShowUserMenu(false);\r\n    window.location.href = '/';\r\n  };\r\n\r\n\r\n  const menuItems = [\r\n    { href: '/', label: 'Home', icon: Home },\r\n    { href: '/events', label: 'Events', icon: Calendar },\r\n    { href: '/rules', label: 'Rules', icon: Shield },\r\n    { href: '/about', label: 'About Us', icon: Users },\r\n    { href: '/forums', label: 'Forums', icon: MessageSquare },\r\n  ];\r\n\r\n  return (\r\n    <nav className=\"relative z-40\">\r\n      {/* Desktop Navigation */}\r\n      <div className=\"hidden lg:flex items-center p-6 bg-black border-b-4 border-white shadow-lg\">\r\n        {/* Logo */}\r\n        <div className=\"flex-1\">\r\n          <Link href=\"/\" className=\"flex items-center space-x-3\">\r\n            <Image\r\n              src=\"/assets/star.png\"\r\n              alt=\"Server Logo\"\r\n              width={40}\r\n              height={40}\r\n              className=\"opacity-90 hover:opacity-100 transition-opacity\"\r\n            />\r\n            <span className=\"text-2xl font-bold text-white font-serif tracking-wide\" style={{fontFamily: 'Cinzel, serif'}}>\r\n              WILD WEST RP\r\n            </span>\r\n          </Link>\r\n        </div>\r\n\r\n        {/* Menu Items - Centered */}\r\n        <div className=\"flex items-center space-x-8 flex-1 justify-center\">\r\n          {menuItems.map((item) => {\r\n            const IconComponent = item.icon;\r\n            return (\r\n              <Link\r\n                key={item.href}\r\n                href={item.href}\r\n                className=\"group flex items-center space-x-2 text-white hover:text-gray-300 transition-colors relative font-bold\"\r\n              >\r\n                <IconComponent size={18} className=\"opacity-80 group-hover:opacity-100\" />\r\n                <span className=\"font-medium tracking-wide\">{item.label}</span>\r\n                <div className=\"absolute -bottom-1 left-0 w-0 h-0.5 bg-white group-hover:w-full transition-all duration-300\"></div>\r\n              </Link>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        {/* Auth Section */}\r\n        <div className=\"flex items-center space-x-4 flex-1 justify-end\">\r\n          {user ? (\r\n            <div className=\"relative\">\r\n              <motion.button\r\n                whileHover={{ scale: 1.02 }}\r\n                whileTap={{ scale: 0.98 }}\r\n                onClick={() => setShowUserMenu(!showUserMenu)}\r\n                className=\"flex items-center space-x-2 text-white font-bold py-2 px-4 border-2 border-transparent hover:border-red-600 transition-all duration-300\"\r\n                style={{\r\n                  backgroundImage: 'url(\"/assets/selection_box_bg_1d.png\")',\r\n                  backgroundSize: 'cover',\r\n                  backgroundPosition: 'center',\r\n                  backgroundRepeat: 'no-repeat',\r\n                  fontFamily: 'Cinzel, serif'\r\n                }}\r\n              >\r\n                <User size={18} />\r\n                <span>{user.username.toUpperCase()}</span>\r\n              </motion.button>\r\n\r\n              <AnimatePresence>\r\n                {showUserMenu && (\r\n                  <motion.div\r\n                    initial={{ opacity: 0, y: -10 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    exit={{ opacity: 0, y: -10 }}\r\n                    className=\"absolute top-full right-0 mt-2 w-48 bg-black border-2 border-white shadow-xl z-50\"\r\n                  >\r\n                    <div className=\"p-2\">\r\n                      <div className=\"px-3 py-2 text-white text-sm border-b border-white\">\r\n                        <div className=\"font-bold\">{user.username}</div>\r\n                        <div className=\"text-gray-300\">{user.role}</div>\r\n                      </div>\r\n                      <Link href=\"/profile\" className=\"block px-3 py-2 text-white hover:bg-gray-800 transition-colors\">\r\n                        Profile\r\n                      </Link>\r\n                      <button\r\n                        onClick={handleLogout}\r\n                        className=\"w-full text-left px-3 py-2 text-white hover:bg-gray-800 transition-colors flex items-center space-x-2\"\r\n                      >\r\n                        <LogOut size={16} />\r\n                        <span>Logout</span>\r\n                      </button>\r\n                    </div>\r\n                  </motion.div>\r\n                )}\r\n              </AnimatePresence>\r\n            </div>\r\n          ) : (\r\n            <div className=\"flex items-center space-x-3\">\r\n              <Link href=\"/login\">\r\n                <motion.button\r\n                  whileHover={{ scale: 1.02 }}\r\n                  whileTap={{ scale: 0.98 }}\r\n                  className=\"flex items-center space-x-2 text-white font-bold py-2 px-4 border-2 border-transparent hover:border-red-600 transition-all duration-300\"\r\n                  style={{\r\n                    backgroundImage: 'url(\"/assets/selection_box_bg_1d.png\")',\r\n                    backgroundSize: 'cover',\r\n                    backgroundPosition: 'center',\r\n                    backgroundRepeat: 'no-repeat',\r\n                    fontFamily: 'Cinzel, serif'\r\n                  }}\r\n                >\r\n                  <LogIn size={18} />\r\n                  <span>SIGN IN</span>\r\n                </motion.button>\r\n              </Link>\r\n              <Link href=\"/register\">\r\n                <motion.button\r\n                  whileHover={{ scale: 1.02 }}\r\n                  whileTap={{ scale: 0.98 }}\r\n                  className=\"text-white font-bold py-2 px-4 border-2 border-white hover:border-red-600 hover:bg-red-600/20 transition-all duration-300\"\r\n                  style={{fontFamily: 'Cinzel, serif'}}\r\n                >\r\n                  JOIN\r\n                </motion.button>\r\n              </Link>\r\n            </div>\r\n          )}\r\n\r\n          {/* Server Status Badge */}\r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className={`flex items-center space-x-2 px-3 py-1 border-2 border-white ${\r\n              serverStatus.is_online ? 'bg-green-600' : 'bg-red-600'\r\n            }`}>\r\n              <div className={`w-2 h-2 bg-white rounded-full ${\r\n                serverStatus.is_online ? 'animate-pulse' : ''\r\n              }`}></div>\r\n              <span className=\"text-white text-sm font-bold\">\r\n                {serverStatus.is_online ? 'ONLINE' : 'OFFLINE'}\r\n              </span>\r\n            </div>\r\n            <div className=\"text-white text-sm font-bold\">\r\n              <span>PLAYERS:</span> <span className=\"font-black\">\r\n                {serverStatus.current_players}/{serverStatus.max_players}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Mobile Navigation */}\r\n      <div className=\"lg:hidden\">\r\n        {/* Mobile Header */}\r\n        <div className=\"flex items-center justify-between p-4 bg-black border-b-2 border-white\">\r\n          <Link href=\"/\" className=\"flex items-center space-x-2\">\r\n            <Image\r\n              src=\"/assets/star.png\"\r\n              alt=\"Server Logo\"\r\n              width={32}\r\n              height={32}\r\n              className=\"opacity-90\"\r\n            />\r\n            <span className=\"text-xl font-bold text-white font-serif\" style={{fontFamily: 'Cinzel, serif'}}>WILD WEST RP</span>\r\n          </Link>\r\n\r\n          <div className=\"flex items-center space-x-3\">\r\n            {user ? (\r\n              <div className=\"text-white text-sm font-bold\">\r\n                {user.username.toUpperCase()}\r\n              </div>\r\n            ) : (\r\n              <Link href=\"/login\">\r\n                <motion.button\r\n                  whileHover={{ scale: 1.02 }}\r\n                  whileTap={{ scale: 0.98 }}\r\n                  className=\"text-white font-bold py-1 px-3 border border-white hover:border-red-600 transition-all duration-300 text-sm\"\r\n                  style={{fontFamily: 'Cinzel, serif'}}\r\n                >\r\n                  SIGN IN\r\n                </motion.button>\r\n              </Link>\r\n            )}\r\n            \r\n            <button\r\n              onClick={() => setIsOpen(!isOpen)}\r\n              className=\"p-2 text-white hover:text-gray-300 transition-colors\"\r\n            >\r\n              {isOpen ? <X size={24} /> : <Menu size={24} />}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Mobile Menu Overlay */}\r\n        <AnimatePresence>\r\n          {isOpen && (\r\n            <motion.div\r\n              initial={{ opacity: 0, height: 0 }}\r\n              animate={{ opacity: 1, height: 'auto' }}\r\n              exit={{ opacity: 0, height: 0 }}\r\n              transition={{ duration: 0.3 }}\r\n              className=\"absolute top-full left-0 right-0 bg-black border-b-2 border-white shadow-xl\"\r\n            >\r\n              <div className=\"p-4 space-y-4\">\r\n                {menuItems.map((item, index) => {\r\n                  const IconComponent = item.icon;\r\n                  return (\r\n                    <motion.div\r\n                      key={item.href}\r\n                      initial={{ opacity: 0, x: -20 }}\r\n                      animate={{ opacity: 1, x: 0 }}\r\n                      transition={{ delay: index * 0.1 }}\r\n                    >\r\n                      <Link\r\n                        href={item.href}\r\n                        onClick={() => setIsOpen(false)}\r\n                        className=\"flex items-center space-x-3 text-white hover:text-gray-300 transition-colors p-3 hover:bg-gray-800/50 border border-transparent hover:border-white font-bold\"\r\n                      >\r\n                        <IconComponent size={20} className=\"opacity-80\" />\r\n                        <span className=\"font-medium text-lg\">{item.label}</span>\r\n                      </Link>\r\n                    </motion.div>\r\n                  );\r\n                })}\r\n                \r\n                {/* Mobile Auth Section */}\r\n                {user ? (\r\n                  <motion.div\r\n                    initial={{ opacity: 0, x: -20 }}\r\n                    animate={{ opacity: 1, x: 0 }}\r\n                    transition={{ delay: menuItems.length * 0.1 }}\r\n                    className=\"pt-4 border-t-2 border-white space-y-3\"\r\n                  >\r\n                    <div className=\"text-white\">\r\n                      <div className=\"font-bold\">{user.username}</div>\r\n                      <div className=\"text-gray-300 text-sm\">{user.role}</div>\r\n                    </div>\r\n                    <button\r\n                      onClick={handleLogout}\r\n                      className=\"w-full text-left text-white hover:bg-gray-800 transition-colors p-3 border border-white hover:border-red-600 flex items-center space-x-2\"\r\n                    >\r\n                      <LogOut size={16} />\r\n                      <span>Logout</span>\r\n                    </button>\r\n                  </motion.div>\r\n                ) : (\r\n                  <motion.div\r\n                    initial={{ opacity: 0, x: -20 }}\r\n                    animate={{ opacity: 1, x: 0 }}\r\n                    transition={{ delay: menuItems.length * 0.1 }}\r\n                    className=\"pt-4 border-t-2 border-white space-y-3\"\r\n                  >\r\n                    <Link href=\"/register\">\r\n                      <button\r\n                        onClick={() => setIsOpen(false)}\r\n                        className=\"w-full text-white font-bold py-3 px-4 border-2 border-white hover:border-red-600 hover:bg-red-600/20 transition-all duration-300\"\r\n                        style={{fontFamily: 'Cinzel, serif'}}\r\n                      >\r\n                        JOIN THE FRONTIER\r\n                      </button>\r\n                    </Link>\r\n                  </motion.div>\r\n                )}\r\n\r\n                {/* Mobile Server Status */}\r\n                <motion.div\r\n                  initial={{ opacity: 0, x: -20 }}\r\n                  animate={{ opacity: 1, x: 0 }}\r\n                  transition={{ delay: (menuItems.length + 1) * 0.1 }}\r\n                  className=\"pt-4 border-t-2 border-white\"\r\n                >\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <div className={`w-2 h-2 rounded-full ${\r\n                        serverStatus.is_online ? 'bg-green-400 animate-pulse' : 'bg-red-400'\r\n                      }`}></div>\r\n                      <span className=\"text-white font-bold\">\r\n                        SERVER {serverStatus.is_online ? 'ONLINE' : 'OFFLINE'}\r\n                      </span>\r\n                    </div>\r\n                    <span className=\"text-white font-bold\">\r\n                      {serverStatus.current_players}/{serverStatus.max_players}\r\n                    </span>\r\n                  </div>\r\n                </motion.div>\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </div>\r\n    </nav>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 869, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Desktop/webmap/RedM-Website-Diablo/frontend/src/app/forums/post/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, use } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport Navigation from '@/components/Navigation';\r\nimport Image from 'next/image';\r\nimport Link from 'next/link';\r\nimport { ArrowLeft, MessageSquare, Users, Clock, Pin, Lock, Eye, Reply, Edit, Trash2, Check, X, AlertTriangle } from 'lucide-react';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport remarkGfm from 'remark-gfm';\r\nimport dynamic from 'next/dynamic';\r\n\r\nconst MDEditor = dynamic(\r\n  () => import('@uiw/react-md-editor').then((mod) => mod.default),\r\n  { ssr: false }\r\n);\r\n\r\ninterface ForumPost {\r\n  id: number;\r\n  title: string;\r\n  content: string;\r\n  imageUrl?: string;\r\n  author: string;\r\n  author_id: number;\r\n  category_name: string;\r\n  created_at: string;\r\n  replies: number;\r\n  views: number;\r\n  is_pinned: boolean;\r\n  is_locked: boolean;\r\n}\r\n\r\ninterface ForumReply {\r\n  id: number;\r\n  content: string;\r\n  author: string;\r\n  created_at: string;\r\n}\r\n\r\nexport default function ForumPostPage({ params }: { params: Promise<{ id: string }> }) {\r\n  const resolvedParams = use(params);\r\n  const [post, setPost] = useState<ForumPost | null>(null);\r\n  const [replies, setReplies] = useState<ForumReply[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [user, setUser] = useState<any>(null);\r\n  const [replyContent, setReplyContent] = useState('');\r\n  const [showReplyEditor, setShowReplyEditor] = useState(false);\r\n  const [showEditModal, setShowEditModal] = useState(false);\r\n  const [editedPost, setEditedPost] = useState({\r\n    title: '',\r\n    content: '',\r\n    imageUrl: ''\r\n  });\r\n  const [lockAfterReply, setLockAfterReply] = useState(false);\r\n  const [notification, setNotification] = useState<{\r\n    message: string;\r\n    type: 'success' | 'error' | 'warning';\r\n    visible: boolean;\r\n  }>({ message: '', type: 'success', visible: false });\r\n\r\n  useEffect(() => {\r\n    // Check for user authentication\r\n    const storedUser = localStorage.getItem('user');\r\n    if (storedUser) {\r\n      setUser(JSON.parse(storedUser));\r\n      setIsAuthenticated(true);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchPostData = async () => {\r\n      try {\r\n        const postId = resolvedParams.id;\r\n        const [postResponse, repliesResponse] = await Promise.all([\r\n          fetch(`http://localhost:3001/api/forum/posts/${postId}`),\r\n          fetch(`http://localhost:3001/api/forum/posts/${postId}/replies`)\r\n        ]);\r\n        \r\n        if (postResponse.ok) {\r\n          const postData = await postResponse.json();\r\n          setPost(postData);\r\n        }\r\n        \r\n        if (repliesResponse.ok) {\r\n          const repliesData = await repliesResponse.json();\r\n          setReplies(repliesData);\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to fetch post data:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchPostData();\r\n  }, [resolvedParams]);\r\n\r\n  // Helper functions\r\n  const isAdmin = () => ['MODERATOR', 'ADMIN', 'SUPER_ADMIN'].includes(user?.role);\r\n  const isPostOwner = () => user?.id === post?.author_id;\r\n\r\n  const showNotification = (message: string, type: 'success' | 'error' | 'warning' = 'success') => {\r\n    setNotification({ message, type, visible: true });\r\n    setTimeout(() => {\r\n      setNotification(prev => ({ ...prev, visible: false }));\r\n    }, 5000);\r\n  };\r\n\r\n  const handleEditPost = () => {\r\n    if (post) {\r\n      setEditedPost({\r\n        title: post.title,\r\n        content: post.content,\r\n        imageUrl: post.imageUrl || ''\r\n      });\r\n      setShowEditModal(true);\r\n    }\r\n  };\r\n\r\n  const handleUpdatePost = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!editedPost.title.trim() || !editedPost.content.trim()) {\r\n      showNotification('Please fill in title and content', 'warning');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:3001/api/forum/posts/${resolvedParams.id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({\r\n          title: editedPost.title,\r\n          content: editedPost.content,\r\n          imageUrl: editedPost.imageUrl || null\r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}));\r\n        throw new Error(errorData.error || `Failed to update post (${response.status})`);\r\n      }\r\n\r\n      // Refresh post data\r\n      const postResponse = await fetch(`http://localhost:3001/api/forum/posts/${resolvedParams.id}`);\r\n      if (postResponse.ok) {\r\n        const postData = await postResponse.json();\r\n        setPost(postData);\r\n      }\r\n\r\n      setShowEditModal(false);\r\n      showNotification('Post updated successfully!', 'success');\r\n    } catch (error) {\r\n      console.error('Error updating post:', error);\r\n      const errorMessage = error instanceof Error ? error.message : 'Failed to update post';\r\n      showNotification(errorMessage, 'error');\r\n    }\r\n  };\r\n\r\n  const handleDeletePost = async () => {\r\n    if (!confirm('Are you sure you want to delete this post? This action cannot be undone and will delete all replies as well.')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:3001/api/forum/posts/${resolvedParams.id}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}));\r\n        throw new Error(errorData.error || `Failed to delete post (${response.status})`);\r\n      }\r\n\r\n      showNotification('Post deleted successfully', 'success');\r\n      // Redirect to forums after successful deletion\r\n      setTimeout(() => {\r\n        window.location.href = '/forums';\r\n      }, 1500);\r\n    } catch (error) {\r\n      console.error('Error deleting post:', error);\r\n      const errorMessage = error instanceof Error ? error.message : 'Failed to delete post';\r\n      showNotification(errorMessage, 'error');\r\n    }\r\n  };\r\n\r\n  const handleToggleLock = async () => {\r\n    if (!post) return;\r\n    \r\n    const newLockState = !post.is_locked;\r\n    const action = newLockState ? 'lock' : 'unlock';\r\n    \r\n    if (!confirm(`Are you sure you want to ${action} this post?`)) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:3001/api/forum/posts/${resolvedParams.id}/lock`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ isLocked: newLockState })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}));\r\n        throw new Error(errorData.error || `Failed to ${action} post (${response.status})`);\r\n      }\r\n\r\n      // Update post state\r\n      setPost(prev => prev ? { ...prev, is_locked: newLockState } : prev);\r\n      showNotification(`Post ${action}ed successfully!`, 'success');\r\n    } catch (error) {\r\n      console.error(`Error ${action}ing post:`, error);\r\n      const errorMessage = error instanceof Error ? error.message : `Failed to ${action} post`;\r\n      showNotification(errorMessage, 'error');\r\n    }\r\n  };\r\n\r\n  const handleTogglePin = async () => {\r\n    if (!post) return;\r\n    \r\n    const newPinState = !post.is_pinned;\r\n    const action = newPinState ? 'pin' : 'unpin';\r\n    \r\n    if (!confirm(`Are you sure you want to ${action} this post?`)) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:3001/api/forum/posts/${resolvedParams.id}/pin`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ isPinned: newPinState })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}));\r\n        throw new Error(errorData.error || `Failed to ${action} post (${response.status})`);\r\n      }\r\n\r\n      // Update post state\r\n      setPost(prev => prev ? { ...prev, is_pinned: newPinState } : prev);\r\n      showNotification(`Post ${action}ned successfully!`, 'success');\r\n    } catch (error) {\r\n      console.error(`Error ${action}ning post:`, error);\r\n      const errorMessage = error instanceof Error ? error.message : `Failed to ${action} post`;\r\n      showNotification(errorMessage, 'error');\r\n    }\r\n  };\r\n\r\n  const handleReplySubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!replyContent.trim()) {\r\n      showNotification('Please enter a reply', 'warning');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const postId = resolvedParams.id;\r\n      const response = await fetch(`http://localhost:3001/api/forum/posts/${postId}/replies`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ \r\n          content: replyContent,\r\n          lockAfterReply: lockAfterReply \r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}));\r\n        throw new Error(errorData.error || `Failed to post reply (${response.status})`);\r\n      }\r\n\r\n      // Refresh replies and post data (in case it was locked)\r\n      const [repliesResponse, postResponse] = await Promise.all([\r\n        fetch(`http://localhost:3001/api/forum/posts/${postId}/replies`),\r\n        fetch(`http://localhost:3001/api/forum/posts/${postId}`)\r\n      ]);\r\n      \r\n      if (repliesResponse.ok) {\r\n        const repliesData = await repliesResponse.json();\r\n        setReplies(repliesData);\r\n      }\r\n      \r\n      if (postResponse.ok) {\r\n        const postData = await postResponse.json();\r\n        setPost(postData);\r\n      }\r\n\r\n      // Reset form\r\n      setReplyContent('');\r\n      setLockAfterReply(false);\r\n      setShowReplyEditor(false);\r\n      showNotification(lockAfterReply ? 'Reply posted and conversation locked!' : 'Reply posted successfully!', 'success');\r\n    } catch (error) {\r\n      console.error('Error posting reply:', error);\r\n      const errorMessage = error instanceof Error ? error.message : 'Failed to post reply';\r\n      showNotification(errorMessage, 'error');\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString() + ' ' + date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n  };\r\n\r\n  const getTimeAgo = (dateString: string) => {\r\n    const now = new Date();\r\n    const date = new Date(dateString);\r\n    const diffInHours = Math.floor((now.getTime() - date.getTime()) / (1000 * 60 * 60));\r\n    \r\n    if (diffInHours < 1) return 'Just now';\r\n    if (diffInHours < 24) return `${diffInHours}h ago`;\r\n    return `${Math.floor(diffInHours / 24)}d ago`;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen\" style={{backgroundColor: 'rgb(32, 32, 32)'}}>\r\n        <Navigation />\r\n        <div className=\"flex items-center justify-center min-h-screen\">\r\n          <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-white\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!post) {\r\n    return (\r\n      <div className=\"min-h-screen\" style={{backgroundColor: 'rgb(32, 32, 32)'}}>\r\n        <Navigation />\r\n        <div className=\"flex items-center justify-center min-h-screen\">\r\n          <div className=\"text-white text-xl\">Post not found</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen\" style={{backgroundColor: 'rgb(32, 32, 32)'}}>\r\n      <Navigation />\r\n      \r\n      <main className=\"py-20 px-6\">\r\n        <div className=\"max-w-6xl mx-auto\">\r\n          {/* Custom Notification */}\r\n          {notification.visible && (\r\n            <motion.div\r\n              initial={{ opacity: 0, x: 300 }}\r\n              animate={{ opacity: 1, x: 0 }}\r\n              exit={{ opacity: 0, x: 300 }}\r\n              className={`fixed top-24 right-6 z-50 p-4 border-2 min-w-80 ${\r\n                notification.type === 'success' ? 'border-green-600 bg-green-600/20' :\r\n                notification.type === 'error' ? 'border-red-600 bg-red-600/20' :\r\n                'border-yellow-600 bg-yellow-600/20'\r\n              }`}\r\n              style={{\r\n                backgroundImage: 'url(\"/assets/background_paper.png\")',\r\n                backgroundSize: '100% 100%',\r\n                backgroundPosition: 'center',\r\n                backgroundRepeat: 'no-repeat',\r\n                minHeight: '80px'\r\n              }}\r\n            >\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <div className={`w-3 h-3 rounded-full ${\r\n                    notification.type === 'success' ? 'bg-green-400' :\r\n                    notification.type === 'error' ? 'bg-red-400' :\r\n                    'bg-yellow-400'\r\n                  }`} />\r\n                  <span className=\"text-white font-bold\" style={{fontFamily: 'Cinzel, serif'}}>\r\n                    {notification.message}\r\n                  </span>\r\n                </div>\r\n                <motion.button\r\n                  whileHover={{ scale: 1.1 }}\r\n                  whileTap={{ scale: 0.9 }}\r\n                  onClick={() => setNotification(prev => ({ ...prev, visible: false }))}\r\n                  className=\"text-white hover:text-red-400 transition-colors\"\r\n                >\r\n                  âœ•\r\n                </motion.button>\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n\r\n          {/* Back Button */}\r\n          <motion.div\r\n            initial={{ opacity: 0, x: -30 }}\r\n            animate={{ opacity: 1, x: 0 }}\r\n            transition={{ duration: 0.6 }}\r\n            className=\"mb-8\"\r\n          >\r\n            <Link href=\"/forums\">\r\n              <motion.button\r\n                whileHover={{ scale: 1.02, x: -5 }}\r\n                whileTap={{ scale: 0.98 }}\r\n                className=\"flex items-center space-x-2 text-white font-bold py-3 px-6 border-2 border-transparent hover:border-red-600 transition-all duration-300\"\r\n                style={{\r\n                  backgroundImage: 'url(\"/assets/selection_box_bg_1d.png\")',\r\n                  backgroundSize: 'cover',\r\n                  backgroundPosition: 'center',\r\n                  backgroundRepeat: 'no-repeat',\r\n                  fontFamily: 'Cinzel, serif'\r\n                }}\r\n              >\r\n                <ArrowLeft size={20} />\r\n                <span>BACK TO FORUMS</span>\r\n              </motion.button>\r\n            </Link>\r\n          </motion.div>\r\n\r\n          {/* Post Content */}\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 30 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.6, delay: 0.2 }}\r\n            className=\"p-12 mb-8\"\r\n            style={{\r\n              backgroundImage: 'url(\"/assets/background_paper.png\")',\r\n              backgroundSize: '100% 100%',\r\n              backgroundPosition: 'center',\r\n              backgroundRepeat: 'no-repeat',\r\n              minHeight: '400px'\r\n            }}\r\n          >\r\n            {/* Post Header */}\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <div className=\"flex items-center space-x-2\">\r\n                {post.is_pinned && <Pin className=\"text-yellow-400\" size={20} />}\r\n                {post.is_locked && <Lock className=\"text-red-400\" size={20} />}\r\n                <h1 className=\"text-3xl font-bold text-white\" style={{fontFamily: 'Cinzel, serif'}}>\r\n                  {post.title.toUpperCase()}\r\n                </h1>\r\n              </div>\r\n              <div className=\"text-white text-sm\">\r\n                <span className=\"opacity-75\">{post.category_name}</span>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Post Meta */}\r\n            <div className=\"flex items-center justify-between mb-6 pb-4 border-b border-white/30\">\r\n              <div className=\"flex items-center space-x-6 text-white text-sm\">\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <Users size={16} />\r\n                  <span>By <strong>{post.author}</strong></span>\r\n                </div>\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <Clock size={16} />\r\n                  <span>{formatDate(post.created_at)}</span>\r\n                </div>\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <MessageSquare size={16} />\r\n                  <span>{post.replies} replies</span>\r\n                </div>\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <Eye size={16} />\r\n                  <span>{post.views} views</span>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Management Controls */}\r\n              {isAuthenticated && (isPostOwner() || isAdmin()) && (\r\n                <div className=\"flex items-center space-x-2\">\r\n                  {/* Edit Post (Owner only) */}\r\n                  {isPostOwner() && (\r\n                    <motion.button\r\n                      whileHover={{ scale: 1.05 }}\r\n                      whileTap={{ scale: 0.95 }}\r\n                      onClick={handleEditPost}\r\n                      className=\"flex items-center space-x-1 text-white font-bold py-2 px-3 border border-blue-600 bg-blue-600/20 hover:bg-blue-600/40 transition-all duration-300\"\r\n                      style={{fontFamily: 'Cinzel, serif'}}\r\n                      title=\"Edit Post\"\r\n                    >\r\n                      <Edit size={14} />\r\n                      <span className=\"hidden sm:inline\">EDIT</span>\r\n                    </motion.button>\r\n                  )}\r\n\r\n                  {/* Admin Controls */}\r\n                  {isAdmin() && (\r\n                    <>\r\n                      {/* Lock/Unlock */}\r\n                      <motion.button\r\n                        whileHover={{ scale: 1.05 }}\r\n                        whileTap={{ scale: 0.95 }}\r\n                        onClick={handleToggleLock}\r\n                        className={`flex items-center space-x-1 text-white font-bold py-2 px-3 border transition-all duration-300 ${\r\n                          post.is_locked \r\n                            ? 'border-green-600 bg-green-600/20 hover:bg-green-600/40' \r\n                            : 'border-yellow-600 bg-yellow-600/20 hover:bg-yellow-600/40'\r\n                        }`}\r\n                        style={{fontFamily: 'Cinzel, serif'}}\r\n                        title={post.is_locked ? 'Unlock Post' : 'Lock Post'}\r\n                      >\r\n                        <Lock size={14} />\r\n                        <span className=\"hidden sm:inline\">{post.is_locked ? 'UNLOCK' : 'LOCK'}</span>\r\n                      </motion.button>\r\n\r\n                      {/* Pin/Unpin */}\r\n                      <motion.button\r\n                        whileHover={{ scale: 1.05 }}\r\n                        whileTap={{ scale: 0.95 }}\r\n                        onClick={handleTogglePin}\r\n                        className={`flex items-center space-x-1 text-white font-bold py-2 px-3 border transition-all duration-300 ${\r\n                          post.is_pinned \r\n                            ? 'border-yellow-600 bg-yellow-600/20 hover:bg-yellow-600/40' \r\n                            : 'border-gray-600 bg-gray-600/20 hover:bg-gray-600/40'\r\n                        }`}\r\n                        style={{fontFamily: 'Cinzel, serif'}}\r\n                        title={post.is_pinned ? 'Unpin Post' : 'Pin Post'}\r\n                      >\r\n                        <Pin size={14} />\r\n                        <span className=\"hidden sm:inline\">{post.is_pinned ? 'UNPIN' : 'PIN'}</span>\r\n                      </motion.button>\r\n\r\n                      {/* Delete */}\r\n                      <motion.button\r\n                        whileHover={{ scale: 1.05 }}\r\n                        whileTap={{ scale: 0.95 }}\r\n                        onClick={handleDeletePost}\r\n                        className=\"flex items-center space-x-1 text-white font-bold py-2 px-3 border border-red-600 bg-red-600/20 hover:bg-red-600/40 transition-all duration-300\"\r\n                        style={{fontFamily: 'Cinzel, serif'}}\r\n                        title=\"Delete Post\"\r\n                      >\r\n                        <Trash2 size={14} />\r\n                        <span className=\"hidden sm:inline\">DELETE</span>\r\n                      </motion.button>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Post Image */}\r\n            {post.imageUrl && (\r\n              <div className=\"mb-6\">\r\n                <img \r\n                  src={post.imageUrl} \r\n                  alt={post.title}\r\n                  className=\"max-w-2xl max-h-96 object-cover border-2 border-white/30 rounded\"\r\n                />\r\n              </div>\r\n            )}\r\n\r\n            {/* Post Content */}\r\n            <div className=\"bg-black/10 p-6 rounded-lg border border-white/20\">\r\n              <div className=\"prose prose-invert max-w-none text-white\">\r\n                <ReactMarkdown \r\n                  remarkPlugins={[remarkGfm]}\r\n                  components={{\r\n                    h1: ({node, ...props}) => <h1 className=\"text-2xl font-bold text-white mb-4 mt-6 first:mt-0\" {...props} />,\r\n                    h2: ({node, ...props}) => <h2 className=\"text-xl font-bold text-white mb-3 mt-5 first:mt-0\" {...props} />,\r\n                    h3: ({node, ...props}) => <h3 className=\"text-lg font-bold text-white mb-2 mt-4 first:mt-0\" {...props} />,\r\n                    p: ({node, ...props}) => <p className=\"text-white mb-4 leading-relaxed text-base\" {...props} />,\r\n                    strong: ({node, ...props}) => <strong className=\"text-white font-bold\" {...props} />,\r\n                    em: ({node, ...props}) => <em className=\"text-white italic\" {...props} />,\r\n                    ul: ({node, ...props}) => <ul className=\"text-white list-disc ml-6 mb-4 space-y-1\" {...props} />,\r\n                    ol: ({node, ...props}) => <ol className=\"text-white list-decimal ml-6 mb-4 space-y-1\" {...props} />,\r\n                    li: ({node, ...props}) => <li className=\"text-white mb-1\" {...props} />,\r\n                    blockquote: ({node, ...props}) => <blockquote className=\"border-l-4 border-red-600 pl-6 ml-4 text-white italic mb-4 py-2 bg-black/20 rounded-r\" {...props} />,\r\n                    a: ({node, ...props}) => <a className=\"text-red-400 underline hover:text-red-300 transition-colors font-medium\" {...props} />,\r\n                    code: ({node, ...props}) => <code className=\"bg-black/50 px-2 py-1 rounded text-red-300 text-sm border border-white/20\" {...props} />,\r\n                    pre: ({node, ...props}) => <pre className=\"bg-black/70 p-4 rounded border border-white/30 text-white mb-4 overflow-x-auto text-sm\" {...props} />\r\n                  }}\r\n                >\r\n                  {post.content}\r\n                </ReactMarkdown>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n\r\n          {/* Replies Section */}\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 30 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.6, delay: 0.4 }}\r\n          >\r\n            <h2 className=\"text-2xl font-bold text-white mb-6\" style={{fontFamily: 'Cinzel, serif'}}>\r\n              REPLIES ({replies.length})\r\n            </h2>\r\n\r\n            {/* Reply Form */}\r\n            {isAuthenticated && !post.is_locked && (\r\n              <div className=\"mb-8 p-8\" style={{\r\n                backgroundImage: 'url(\"/assets/background_paper.png\")',\r\n                backgroundSize: '100% 100%',\r\n                backgroundPosition: 'center',\r\n                backgroundRepeat: 'no-repeat',\r\n                minHeight: '200px'\r\n              }}>\r\n                {!showReplyEditor ? (\r\n                  <motion.button\r\n                    whileHover={{ scale: 1.02 }}\r\n                    whileTap={{ scale: 0.98 }}\r\n                    onClick={() => setShowReplyEditor(true)}\r\n                    className=\"flex items-center space-x-2 text-white font-bold py-3 px-6 border-2 border-transparent hover:border-red-600 transition-all duration-300\"\r\n                    style={{\r\n                      backgroundImage: 'url(\"/assets/selection_box_bg_1d.png\")',\r\n                      backgroundSize: 'cover',\r\n                      backgroundPosition: 'center',\r\n                      backgroundRepeat: 'no-repeat',\r\n                      fontFamily: 'Cinzel, serif'\r\n                    }}\r\n                  >\r\n                    <Reply size={20} />\r\n                    <span>WRITE REPLY</span>\r\n                  </motion.button>\r\n                ) : (\r\n                  <form onSubmit={handleReplySubmit} className=\"space-y-4\">\r\n                    <div>\r\n                      <label className=\"block text-white font-bold mb-2\" style={{fontFamily: 'Cinzel, serif'}}>\r\n                        YOUR REPLY\r\n                      </label>\r\n                      <div className=\"border-2 border-white bg-black/50\" style={{minHeight: '200px'}}>\r\n                        <MDEditor\r\n                          value={replyContent}\r\n                          onChange={(val) => setReplyContent(val || '')}\r\n                          preview=\"edit\"\r\n                          hideToolbar={false}\r\n                          data-color-mode=\"dark\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Lock conversation checkbox for admins */}\r\n                    {isAdmin() && (\r\n                      <div className=\"flex items-center space-x-2 p-3 border border-yellow-600/50 bg-yellow-600/10 rounded\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          id=\"lockAfterReply\"\r\n                          checked={lockAfterReply}\r\n                          onChange={(e) => setLockAfterReply(e.target.checked)}\r\n                          className=\"w-4 h-4 text-yellow-600 bg-black border-yellow-600 rounded focus:ring-yellow-600 focus:ring-2\"\r\n                        />\r\n                        <label htmlFor=\"lockAfterReply\" className=\"flex items-center space-x-2 text-white font-medium\" style={{fontFamily: 'Cinzel, serif'}}>\r\n                          <Lock size={16} />\r\n                          <span>LOCK CONVERSATION AFTER REPLY</span>\r\n                        </label>\r\n                      </div>\r\n                    )}\r\n\r\n                    <div className=\"flex space-x-4\">\r\n                      <motion.button\r\n                        whileHover={{ scale: 1.02 }}\r\n                        whileTap={{ scale: 0.98 }}\r\n                        type=\"submit\"\r\n                        className=\"text-white font-bold py-3 px-6 border-2 border-transparent hover:border-red-600 transition-all duration-300\"\r\n                        style={{\r\n                          backgroundImage: 'url(\"/assets/selection_box_bg_1d.png\")',\r\n                          backgroundSize: 'cover',\r\n                          backgroundPosition: 'center',\r\n                          backgroundRepeat: 'no-repeat',\r\n                          fontFamily: 'Cinzel, serif'\r\n                        }}\r\n                      >\r\n                        POST REPLY\r\n                      </motion.button>\r\n                      <motion.button\r\n                        whileHover={{ scale: 1.02 }}\r\n                        whileTap={{ scale: 0.98 }}\r\n                        type=\"button\"\r\n                        onClick={() => {\r\n                          setShowReplyEditor(false);\r\n                          setReplyContent('');\r\n                        }}\r\n                        className=\"text-white font-bold py-3 px-6 border-2 border-white hover:border-red-600 transition-all duration-300\"\r\n                        style={{fontFamily: 'Cinzel, serif'}}\r\n                      >\r\n                        CANCEL\r\n                      </motion.button>\r\n                    </div>\r\n                  </form>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Replies List */}\r\n            <div className=\"space-y-4\">\r\n              {replies.map((reply, index) => (\r\n                <motion.div\r\n                  key={reply.id}\r\n                  initial={{ opacity: 0, x: -30 }}\r\n                  animate={{ opacity: 1, x: 0 }}\r\n                  transition={{ duration: 0.6, delay: 0.6 + (index * 0.1) }}\r\n                  className=\"p-8 border-l-4 border-red-600\"\r\n                  style={{\r\n                    backgroundImage: 'url(\"/assets/background_paper.png\")',\r\n                    backgroundSize: '100% 100%',\r\n                    backgroundPosition: 'center',\r\n                    backgroundRepeat: 'no-repeat',\r\n                    minHeight: '150px'\r\n                  }}\r\n                >\r\n                  <div className=\"flex items-center justify-between mb-4\">\r\n                    <div className=\"flex items-center space-x-4\">\r\n                      <h3 className=\"text-lg font-bold text-white\" style={{fontFamily: 'Cinzel, serif'}}>\r\n                        {reply.author.toUpperCase()}\r\n                      </h3>\r\n                      <div className=\"flex items-center space-x-2 text-white text-sm opacity-75\">\r\n                        <Clock size={14} />\r\n                        <span>{getTimeAgo(reply.created_at)}</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"bg-black/5 p-4 rounded border border-white/10\">\r\n                    <div className=\"prose prose-invert max-w-none text-white\">\r\n                      <ReactMarkdown \r\n                        remarkPlugins={[remarkGfm]}\r\n                        components={{\r\n                          h1: ({node, ...props}) => <h1 className=\"text-xl font-bold text-white mb-3 mt-4 first:mt-0\" {...props} />,\r\n                          h2: ({node, ...props}) => <h2 className=\"text-lg font-bold text-white mb-2 mt-3 first:mt-0\" {...props} />,\r\n                          h3: ({node, ...props}) => <h3 className=\"text-md font-bold text-white mb-2 mt-2 first:mt-0\" {...props} />,\r\n                          p: ({node, ...props}) => <p className=\"text-white mb-3 leading-relaxed\" {...props} />,\r\n                          strong: ({node, ...props}) => <strong className=\"text-white font-bold\" {...props} />,\r\n                          em: ({node, ...props}) => <em className=\"text-white italic\" {...props} />,\r\n                          ul: ({node, ...props}) => <ul className=\"text-white list-disc ml-5 mb-3 space-y-1\" {...props} />,\r\n                          ol: ({node, ...props}) => <ol className=\"text-white list-decimal ml-5 mb-3 space-y-1\" {...props} />,\r\n                          li: ({node, ...props}) => <li className=\"text-white\" {...props} />,\r\n                          blockquote: ({node, ...props}) => <blockquote className=\"border-l-4 border-red-600 pl-4 ml-2 text-white italic mb-3 py-1 bg-black/20 rounded-r\" {...props} />,\r\n                          a: ({node, ...props}) => <a className=\"text-red-400 underline hover:text-red-300 transition-colors\" {...props} />,\r\n                          code: ({node, ...props}) => <code className=\"bg-black/40 px-2 py-0.5 rounded text-red-300 text-sm border border-white/20\" {...props} />\r\n                        }}\r\n                      >\r\n                        {reply.content}\r\n                      </ReactMarkdown>\r\n                    </div>\r\n                  </div>\r\n                </motion.div>\r\n              ))}\r\n            </div>\r\n\r\n            {replies.length === 0 && (\r\n              <div className=\"text-center py-12\">\r\n                <MessageSquare className=\"mx-auto mb-4 text-white opacity-50\" size={48} />\r\n                <p className=\"text-white text-lg opacity-75\">\r\n                  No replies yet. Be the first to reply!\r\n                </p>\r\n              </div>\r\n            )}\r\n          </motion.div>\r\n        </div>\r\n\r\n        {/* Edit Post Modal */}\r\n        {showEditModal && (\r\n          <div className=\"fixed inset-0 backdrop-blur-sm flex items-center justify-center z-50\" style={{backgroundColor: 'rgba(32, 32, 32, 0.8)'}}>\r\n            <motion.div\r\n              initial={{ opacity: 0, scale: 0.9 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              exit={{ opacity: 0, scale: 0.9 }}\r\n              className=\"p-8 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto\"\r\n              style={{\r\n                backgroundImage: 'url(\"/assets/background_paper.png\")',\r\n                backgroundSize: '100% 100%',\r\n                backgroundPosition: 'center',\r\n                backgroundRepeat: 'no-repeat',\r\n                minHeight: '600px'\r\n              }}\r\n            >\r\n              <div className=\"flex items-center space-x-2 mb-6\">\r\n                <Edit className=\"text-white\" size={24} />\r\n                <h2 className=\"text-2xl font-bold text-white\" style={{fontFamily: 'Cinzel, serif'}}>\r\n                  EDIT POST\r\n                </h2>\r\n              </div>\r\n\r\n              <form onSubmit={handleUpdatePost} className=\"space-y-6\">\r\n                {/* Post Title */}\r\n                <div>\r\n                  <label className=\"block text-white font-bold mb-2\" style={{fontFamily: 'Cinzel, serif'}}>\r\n                    POST TITLE\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={editedPost.title}\r\n                    onChange={(e) => setEditedPost({...editedPost, title: e.target.value})}\r\n                    className=\"w-full p-3 bg-black/50 border-2 border-white text-white placeholder-gray-300 focus:border-red-600 focus:outline-none font-medium\"\r\n                    placeholder=\"Enter post title\"\r\n                    style={{fontFamily: 'Cinzel, serif'}}\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                {/* Image URL (Optional) */}\r\n                <div>\r\n                  <label className=\"block text-white font-bold mb-2\" style={{fontFamily: 'Cinzel, serif'}}>\r\n                    IMAGE URL (OPTIONAL)\r\n                  </label>\r\n                  <input\r\n                    type=\"url\"\r\n                    value={editedPost.imageUrl}\r\n                    onChange={(e) => setEditedPost({...editedPost, imageUrl: e.target.value})}\r\n                    className=\"w-full p-3 bg-black/50 border-2 border-white text-white placeholder-gray-300 focus:border-red-600 focus:outline-none font-medium\"\r\n                    placeholder=\"https://example.com/image.jpg\"\r\n                    style={{fontFamily: 'Cinzel, serif'}}\r\n                  />\r\n                  {editedPost.imageUrl && (\r\n                    <div className=\"mt-2\">\r\n                      <img \r\n                        src={editedPost.imageUrl} \r\n                        alt=\"Preview\" \r\n                        className=\"max-w-xs max-h-32 object-cover border-2 border-white/30\"\r\n                        onError={(e) => {\r\n                          e.currentTarget.style.display = 'none';\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Content with Markdown Editor */}\r\n                <div>\r\n                  <label className=\"block text-white font-bold mb-2\" style={{fontFamily: 'Cinzel, serif'}}>\r\n                    POST CONTENT\r\n                  </label>\r\n                  <div className=\"border-2 border-white bg-black/50\" style={{minHeight: '300px'}}>\r\n                    <MDEditor\r\n                      value={editedPost.content}\r\n                      onChange={(val) => setEditedPost({...editedPost, content: val || ''})}\r\n                      preview=\"edit\"\r\n                      hideToolbar={false}\r\n                      data-color-mode=\"dark\"\r\n                      style={{\r\n                        backgroundColor: 'transparent',\r\n                        color: 'white'\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <p className=\"text-white text-xs mt-2 opacity-75\">\r\n                    Use markdown for formatting: **bold**, *italic*, # headers, - lists, [links](url), &gt; quotes\r\n                  </p>\r\n                </div>\r\n\r\n                {/* Action Buttons */}\r\n                <div className=\"flex space-x-4 mt-8\">\r\n                  <motion.button\r\n                    whileHover={{ scale: 1.02 }}\r\n                    whileTap={{ scale: 0.98 }}\r\n                    type=\"submit\"\r\n                    className=\"flex-1 text-white font-bold py-3 px-4 border-2 border-transparent hover:border-red-600 transition-all duration-300\"\r\n                    style={{\r\n                      backgroundImage: 'url(\"/assets/selection_box_bg_1d.png\")',\r\n                      backgroundSize: 'cover',\r\n                      backgroundPosition: 'center',\r\n                      backgroundRepeat: 'no-repeat',\r\n                      fontFamily: 'Cinzel, serif'\r\n                    }}\r\n                  >\r\n                    UPDATE POST\r\n                  </motion.button>\r\n                  \r\n                  <motion.button\r\n                    whileHover={{ scale: 1.02 }}\r\n                    whileTap={{ scale: 0.98 }}\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      setShowEditModal(false);\r\n                      setEditedPost({ title: '', content: '', imageUrl: '' });\r\n                    }}\r\n                    className=\"flex-1 text-white font-bold py-3 px-4 border-2 border-white hover:border-red-600 transition-all duration-300\"\r\n                    style={{fontFamily: 'Cinzel, serif'}}\r\n                  >\r\n                    CANCEL\r\n                  </motion.button>\r\n                </div>\r\n              </form>\r\n            </motion.div>\r\n          </div>\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}